<html> 
      <head>
        <title>GAP (ref) - Chapter 21: Lists &amp;#8614; 21.22 Ranges</title>
        <meta name="url" content="http://www.gap-system.org/Manuals/doc/ref/chap21_mj.html#X79596BDE7CAF8491"></meta>
      </head>
      <body> <h4 xmlns="http://www.w3.org/1999/xhtml">21.22 <span class="Heading">Ranges</span></h4><p xmlns="http://www.w3.org/1999/xhtml">A <em>range</em> is a dense list of integers in arithmetic progression (or degression). This is a list of integers such that the difference between consecutive elements is a nonzero constant. Ranges can be abbreviated with the syntactic construct</p><p xmlns="http://www.w3.org/1999/xhtml"><code class="code">[ <var class="Arg">first</var>, <var class="Arg">second</var> .. <var class="Arg">last</var> ]</code></p><p xmlns="http://www.w3.org/1999/xhtml">or, if the difference between consecutive elements is 1, as</p><p xmlns="http://www.w3.org/1999/xhtml"><code class="code">[ <var class="Arg">first</var> .. <var class="Arg">last</var> ]</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">If <code class="code"><var class="Arg">first</var> &gt; <var class="Arg">last</var></code>, <code class="code">[ <var class="Arg">first</var> .. <var class="Arg">last</var> ]</code> is the empty list, which by definition is also a range; also, if <code class="code"><var class="Arg">second</var> &gt; <var class="Arg">first</var> &gt; <var class="Arg">last</var></code> or <code class="code"><var class="Arg">second</var> &lt; <var class="Arg">first</var> &lt; <var class="Arg">last</var></code>, then <code class="code">[ <var class="Arg">first</var>, <var class="Arg">second</var> .. <var class="Arg">last</var> ]</code> is the empty list. If <code class="code"><var class="Arg">first</var> = <var class="Arg">last</var></code>, <code class="code">[ <var class="Arg">first</var>, <var class="Arg">second</var> .. <var class="Arg">last</var> ]</code> is a singleton list, which is a range, too. Note that <code class="code"><var class="Arg">last</var> - <var class="Arg">first</var></code> must be divisible by the increment <code class="code"><var class="Arg">second</var> - <var class="Arg">first</var></code>, otherwise an error is signalled.</p><p xmlns="http://www.w3.org/1999/xhtml">Currently, the integers <var class="Arg">first</var>, <var class="Arg">second</var> and <var class="Arg">last</var> and the length of a range must be small integers, that is at least <math id="619554719223832752" display="inline" alttext="-2^{d}" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mrow xref="p1.1.m1.1.4.cmml" id="p1.1.m1.1.4">
      <mo xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">-</mo>
      <msup xref="p1.1.m1.1.4.1.cmml" id="p1.1.m1.1.4.1">
        <mn xref="p1.1.m1.1.2.cmml" id="p1.1.m1.1.2">2</mn>
        <mi xref="p1.1.m1.1.3.1.cmml" id="p1.1.m1.1.3.1">d</mi>
      </msup>
    </mrow>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <apply xref="p1.1.m1.1.4" id="p1.1.m1.1.4.cmml">
        <minus xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml"/>
        <apply xref="p1.1.m1.1.4.1" id="p1.1.m1.1.4.1.cmml">
          <csymbol id="p1.1.m1.1.4.1.1.cmml" cd="ambiguous">superscript</csymbol>
          <cn xref="p1.1.m1.1.2" id="p1.1.m1.1.2.cmml" type="integer">2</cn>
          <ci xref="p1.1.m1.1.3.1" id="p1.1.m1.1.3.1.cmml">ğ‘‘</ci>
        </apply>
      </apply>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">-2^{d}</annotation>
  </semantics>
</math> and at most <math id="-3301768303686068992" display="inline" alttext="2^{d}-1" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mrow xref="p1.1.m1.1.5.cmml" id="p1.1.m1.1.5">
      <msup xref="p1.1.m1.1.5.1.cmml" id="p1.1.m1.1.5.1">
        <mn xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">2</mn>
        <mi xref="p1.1.m1.1.2.1.cmml" id="p1.1.m1.1.2.1">d</mi>
      </msup>
      <mo xref="p1.1.m1.1.3.cmml" id="p1.1.m1.1.3">-</mo>
      <mn xref="p1.1.m1.1.4.cmml" id="p1.1.m1.1.4">1</mn>
    </mrow>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <apply xref="p1.1.m1.1.5" id="p1.1.m1.1.5.cmml">
        <minus xref="p1.1.m1.1.3" id="p1.1.m1.1.3.cmml"/>
        <apply xref="p1.1.m1.1.5.1" id="p1.1.m1.1.5.1.cmml">
          <csymbol id="p1.1.m1.1.5.1.1.cmml" cd="ambiguous">superscript</csymbol>
          <cn xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml" type="integer">2</cn>
          <ci xref="p1.1.m1.1.2.1" id="p1.1.m1.1.2.1.cmml">ğ‘‘</ci>
        </apply>
        <cn xref="p1.1.m1.1.4" id="p1.1.m1.1.4.cmml" type="integer">1</cn>
      </apply>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">2^{d}-1</annotation>
  </semantics>
</math> with <math id="-5765763851606469112" display="inline" alttext="d=28" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mrow xref="p1.1.m1.1.5.cmml" id="p1.1.m1.1.5">
      <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">d</mi>
      <mo xref="p1.1.m1.1.2.cmml" id="p1.1.m1.1.2">=</mo>
      <mn xref="p1.1.m1.1.4.cmml" id="p1.1.m1.1.4">28</mn>
    </mrow>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <apply xref="p1.1.m1.1.5" id="p1.1.m1.1.5.cmml">
        <eq xref="p1.1.m1.1.2" id="p1.1.m1.1.2.cmml"/>
        <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">ğ‘‘</ci>
        <cn xref="p1.1.m1.1.4" id="p1.1.m1.1.4.cmml" type="integer">28</cn>
      </apply>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">d=28</annotation>
  </semantics>
</math> on 32-bit architectures and <math id="-6618367699761159086" display="inline" alttext="d=60" class="ltx_Math" xmlns="http://www.w3.org/1998/Math/MathML">
  <semantics id="p1.1.m1.1a">
    <mrow xref="p1.1.m1.1.5.cmml" id="p1.1.m1.1.5">
      <mi xref="p1.1.m1.1.1.cmml" id="p1.1.m1.1.1">d</mi>
      <mo xref="p1.1.m1.1.2.cmml" id="p1.1.m1.1.2">=</mo>
      <mn xref="p1.1.m1.1.4.cmml" id="p1.1.m1.1.4">60</mn>
    </mrow>
    <annotation-xml id="p1.1.m1.1b" encoding="MathML-Content">
      <apply xref="p1.1.m1.1.5" id="p1.1.m1.1.5.cmml">
        <eq xref="p1.1.m1.1.2" id="p1.1.m1.1.2.cmml"/>
        <ci xref="p1.1.m1.1.1" id="p1.1.m1.1.1.cmml">ğ‘‘</ci>
        <cn xref="p1.1.m1.1.4" id="p1.1.m1.1.4.cmml" type="integer">60</cn>
      </apply>
    </annotation-xml>
    <annotation id="p1.1.m1.1c" encoding="application/x-tex">d=60</annotation>
  </semantics>
</math> on 64-bit architectures.</p><p xmlns="http://www.w3.org/1999/xhtml">Note also that a range is just a special case of a list. Thus you can access elements in a range (see <a shape="rect" href="chap21_mj.html#X7921047F83F5FA28"><span class="RefLink">21.3</span></a>), test for membership etc. You can even assign to such a range if it is mutable (seeÂ <a shape="rect" href="chap21_mj.html#X8611EF768210625B"><span class="RefLink">21.4</span></a>). Of course, unless you assign <code class="code"><var class="Arg">last</var> + <var class="Arg">second</var> - <var class="Arg">first</var></code> to the entry <code class="code"><var class="Arg">range</var>[ Length( <var class="Arg">range</var> ) + 1 ]</code>, the resulting list will no longer be a range.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := [10..20];</span>
[ 10 .. 20 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Length( r );</span>
11
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r[3];</span>
12
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">17 in r;</span>
true
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r[12] := 25;; r;  # r is no longer a range</span>
[ 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 25 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := [1,3..17];</span>
[ 1, 3 .. 17 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">Length( r );</span>
9
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r[4];</span>
7
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := [0,-1..-9];</span>
[ 0, -1 .. -9 ]
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r[5];</span>
-4
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">r := [ 1, 4 .. 32 ];</span>
Error, Range: &lt;last&gt;-&lt;first&gt; (31) must be divisible by &lt;inc&gt; (3)
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">Most often ranges are used in connection with the <code class="keyw">for</code>-loop seeÂ <a shape="rect" href="chap4_mj.html#X78783E777867638A"><span class="RefLink">4.20</span></a>). Here the construct</p><p xmlns="http://www.w3.org/1999/xhtml"><code class="code">for <var class="Arg">var</var> in [ <var class="Arg">first</var> .. <var class="Arg">last</var> ] do <var class="Arg">statements</var> od</code></p><p xmlns="http://www.w3.org/1999/xhtml">replaces the</p><p xmlns="http://www.w3.org/1999/xhtml"><code class="code">for <var class="Arg">var</var> from <var class="Arg">first</var> to <var class="Arg">last</var> do <var class="Arg">statements</var> od</code></p><p xmlns="http://www.w3.org/1999/xhtml">which is more usual in other programming languages.</p><div class="example" xmlns="http://www.w3.org/1999/xhtml"><pre xml:space="preserve">
<span class="GAPprompt">gap&gt;</span> <span class="GAPinput">s := [];; for i in [10..20] do Add( s, i^2 ); od; s;</span>
[ 100, 121, 144, 169, 196, 225, 256, 289, 324, 361, 400 ]
</pre></div><p xmlns="http://www.w3.org/1999/xhtml">Note that a range with <code class="code"><var class="Arg">last</var> &gt;= <var class="Arg">first</var></code> is at the same time also a proper set (seeÂ <a shape="rect" href="chap21_mj.html#X80ABC25582343910"><span class="RefLink">21.19</span></a>), because it contains no holes or duplicates and is sorted, and also a row vector (seeÂ <a shape="rect" href="chap23_mj.html#X82C7E6CF7BA03391"><span class="RefLink">23</span></a>), because it contains no holes and all elements are integers.</p> </body>
    </html>